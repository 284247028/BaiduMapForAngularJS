!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],t);else{var n=t("object"==typeof exports?require("angular"):e.angular);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ngBaiduMap=void 0;var o=n(1),a=r(o),i=n(2),u=n(3),c=n(4),l=n(5),d=n(6);t.ngBaiduMap=function(){var e="baiduMap";return(0,c.def)(e,{restrict:"E",scope:{options:"=",ak:"@"},link:function(e,t,n){var r=a["default"].extend({},i.defaultOpts,e.options);(0,u.validator)(e.ak,"ak must not be empty"),(0,u.validator)(r.center,"options.center must be set"),(0,u.validator)(r.center.longitude,"options.center.longitude must be set"),(0,u.validator)(r.center.latitude,"options.center.latitude must be set"),(0,u.validator)(r.city,"options.city must be set"),(0,l.loader)(e.ak,function(){var n=(0,d.createInstance)(r,t),o=[];(0,d.redrawMarkers)(n,o,r),e.$watch("options.center",function(t,a){r=e.options,n.centerAndZoom(new BMap.Point(r.center.longitude,r.center.latitude),r.zoom),(0,d.redrawMarkers)(n,o,r)},!0),e.$watch("options.markers",function(e,t){(0,d.redrawMarkers)(n,o,r)},!0)})}}),e}()},function(t,n){t.exports=e},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultOpts={navCtrl:!0,scaleCtrl:!0,overviewCtrl:!0,enableScrollWheelZoom:!0,zoom:10}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validator=function(e,t){if(!e)throw new Error(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.def=void 0;var o=n(1),a=r(o);t.def=function(e,t){a["default"].module(e,[]).directive(e,[function(){return t}])}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loader=function(e,t){var n="http://api.map.baidu.com/api?v=2.0&ak="+e+"&callback=baidumapinit",r=window.baiduMap;if(r&&"loading"===r.status)return r.callbacks.push(t);if(r&&"loaded"===r.status)return t();window.baiduMap={status:"loading",callbacks:[]},window.baidumapinit=function(){window.baiduMap.status="loaded",t(),window.baiduMap.callbacks.forEach(function(e){return e()}),window.baiduMap.callbacks=[]};var o=document.createElement("script");o.type="text/javascript",o.src=n,document.body.appendChild(o)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.createInstance=function(e,t){var n=new BMap.Map(t[0]);return n.centerAndZoom(new BMap.Point(e.center.longitude,e.center.latitude),e.zoom),e.navCtrl&&n.addControl(new BMap.NavigationControl),e.scaleCtrl&&n.addControl(new BMap.ScaleControl),e.overviewCtrl&&n.addControl(new BMap.OverviewMapControl),e.enableScrollWheelZoom&&n.enableScrollWheelZoom(),n.setCurrentCity(e.city),n},t.createMarker=function(e,t){if(e.icon){var n=new BMap.Icon(e.icon,new BMap.Size(e.width,e.height));return new BMap.Marker(t,{icon:n})}return new BMap.Marker(t)});t.redrawMarkers=function(e,t,r){t.forEach(function(t){var n=t.marker,r=t.listener;n.removeEventListener("click",r),e.removeOverlay(n)}),t.length=0,r.markers&&r.markers.forEach(function(r){var o=n(r,new BMap.Point(r.longitude,r.latitude));e.addOverlay(o);var a={marker:o,listener:null};if(t.push(a),r.title||r.content){var i="<p>"+(r.title||"")+"</p><p>"+(r.content||"")+"</p>",u=new BMap.InfoWindow(i,{enableMessage:!!r.enableMessage});a.listener=function(){this.openInfoWindow(u)},o.addEventListener("click",a.listener)}})}}])});